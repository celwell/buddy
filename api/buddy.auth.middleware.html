<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>buddy.auth.middleware documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Buddy 0.1.0-beta2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="buddy.auth.html"><span>buddy.auth</span></a></li><li><a href="buddy.auth.accessrules.html"><span>buddy.auth.accessrules</span></a></li><li><a href="buddy.auth.backends.httpbasic.html"><span>buddy.auth.backends.httpbasic</span></a></li><li><a href="buddy.auth.backends.session.html"><span>buddy.auth.backends.session</span></a></li><li><a href="buddy.auth.backends.stateless-token.html"><span>buddy.auth.backends.stateless-token</span></a></li><li class="current"><a href="buddy.auth.middleware.html"><span>buddy.auth.middleware</span></a></li><li><a href="buddy.auth.protocols.html"><span>buddy.auth.protocols</span></a></li><li><a href="buddy.codecs.html"><span>buddy.codecs</span></a></li><li><a href="buddy.core.html"><span>buddy.core</span></a></li><li><a href="buddy.crypto.core.html"><span>buddy.crypto.core</span></a></li><li><a href="buddy.crypto.hashers.bcrypt.html"><span>buddy.crypto.hashers.bcrypt</span></a></li><li><a href="buddy.crypto.hashers.md5.html"><span>buddy.crypto.hashers.md5</span></a></li><li><a href="buddy.crypto.hashers.pbkdf2.html"><span>buddy.crypto.hashers.pbkdf2</span></a></li><li><a href="buddy.crypto.hashers.sha256.html"><span>buddy.crypto.hashers.sha256</span></a></li><li><a href="buddy.crypto.keys.html"><span>buddy.crypto.keys</span></a></li><li><a href="buddy.crypto.signing.html"><span>buddy.crypto.signing</span></a></li><li><a href="buddy.util.html"><span>buddy.util</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="buddy.auth.middleware.html#var-wrap-access-rules"><span>wrap-access-rules</span></a></li><li><a href="buddy.auth.middleware.html#var-wrap-authentication"><span>wrap-authentication</span></a></li><li><a href="buddy.auth.middleware.html#var-wrap-authorization"><span>wrap-authorization</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>buddy.auth.middleware documentation</h2><pre class="doc"></pre><div class="public" id="var-wrap-access-rules"><h3>wrap-access-rules</h3><div class="usage"><code>(wrap-access-rules handler rules &amp; [{:keys [policy reject-handler], :or {policy :allow}}])</code></div><pre class="doc">An other ring middleware that helps define
access rules for ring handler.

This is a example of access rules list that
`wrap-access-rules` middleware expects:

    [{:pattern #&quot;^/foo.*$&quot;
      :handler user-access}
     {:pattern #&quot;^/bar.*$&quot;
      :handler {:or [user-access admin-access]}}
     {:pattern #&quot;^/baz.*$&quot;
      :handler {:and [user-access {:or [admin-access operator-access]}]}}]

Access rules are based on regular expressions associated with
handlers list. All rules are evaluated in order and stops on
first match found.

The handler function should accept the request as first
parameter and must return true or false. Additionaly, if
you are using authorization middleware, the handler funcion
can raise unauthorized exception for fast return.</pre><div class="src-link"><a href="http://github.com/niwibe/buddy/blob/master/#L50">Source</a></div></div><div class="public" id="var-wrap-authentication"><h3>wrap-authentication</h3><div class="usage"><code>(wrap-authentication handler backend)</code></div><pre class="doc">Ring middleware that enables authentication
for your ring handler.</pre><div class="src-link"><a href="http://github.com/niwibe/buddy/blob/master/#L23">Source</a></div></div><div class="public" id="var-wrap-authorization"><h3>wrap-authorization</h3><div class="usage"><code>(wrap-authorization handler &amp; [backend])</code></div><pre class="doc">Ring middleware that enables authorization
workflow for your ring handler.</pre><div class="src-link"><a href="http://github.com/niwibe/buddy/blob/master/#L37">Source</a></div></div></div></body></html>